*vim-pyenv.txt* Activate a pyenv Python within Vim

Version: 1.4
Author:  Alisue <lambdalisue@hashnote.net>          *vim-pyenv-author*
License: MIT license  {{{
    Copyright (c) 2014 Alisue, hashnote.net

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.
}}}
  

CONTENTS                                            *vim-pyenv-contents*  

Introduction                    |vim-pyenv-introduction|
Usage                           |vim-pyenv-usage|
Requirements                    |vim-pyenv-requirements|
Interface                       |vim-pyenv-interface|
    Configurations                  |vim-pyenv-configurations|
    Commands                        |vim-pyenv-commands|
    Functions                       |vim-pyenv-functions|
Use with jedi-vim               |vim-pyenv-use-with-jedi-vim|


===============================================================================
INTRODUCTION                                        *vim-pyenv-introduction*

*vim-pyenv* allows you to activate and deactivate the pyenv Python correctly
in a live Vim session.
pyenv (https://github.com/yyuu/pyenv) is a simple Python version management
system and users can change the Python versions in a simple way.
However, if you use pyenv to switch the Python version or virtualenv, the
omni-completion would not work correctly.
This is because Vim refers to the system Python and does not know anything
about the pyenv Python, especially the packages you installed on the pyenv
Python.
vim-pyenv activates the pyenv Python and adds the external Python library
searching path (PYTHONPATH) to the Vim's internal Python's PYTHONPATH.
Thus, with vim-pyenv, your jedi-vim(https://github.com/davidhalter/jedi-vim)
or any kind of Python omni-completion system returns a correct completion list.

Additionally, vim-pyenv supports the dual Python 2 and 3 system.
If your Vim is compiled with +python and +python3, vim-pyenv automatically
synchronizes the Python version to the external Python version.
If you are using jedi-vim, vim-pyenv automatically changes the Python version
of jedi-vim as well thus omni-completion works in both Python 2 and Python 3.


===============================================================================
USAGE                                               *vim-pyenv-usage*

vim-pyenv was developed to enable jedi-vim's omni-completion with
pyenv-virtualenv(https://github.com/yyuu/pyenv-virtualenv), but helps
with every Python related plugin in conjuction with pyenv.

Assuming that you have three pyenv-virtualenv environments (simply called
virtualenvs) and you are now in one of them, called A.
If you open Vim from a terminal, vim-pyenv automatically detects the
current virtualenv and activates it in the Vim session.

If you want to change the virtualenv from A to B then do:
>
    :PyenvActivate B
<
To deactivate the virtualenv:
>
    :PyenvDeactivate
<
To see all available virtualenvs:
>
    :PyenvList
<

If your Vim is compiled with +python and +python3, the internal Python version
is automatically synchronized to the external Python version.
See |vim-pyenv-use-with-jedi-vim| for more details.


===============================================================================
Requirements                                         *vim-pyenv-requirements*

Requirements:
* Vim compiled with +python and/or +python3
* pyenv command in your terminal

Recommended:
* jedi-vim for omni-completion

===============================================================================
INTERFACE                                           *vim-pyenv-interface*

-------------------------------------------------------------------------------
COMMANDS                                            *vim-pyenv-commands*


:PyenvActivate [{name}]                             *:PyenvActivate*
    Activate a pyenv Python. The name of the pyenv Python can be completed
    with <tab> at the command line.

    If the name is not specified, the name will be guessed based on pyenv's
    current settings.

:PyenvDeactivate                                    *:PyenvDeactivate*
    Deactivate the current pyenv Python.

:PyenvList                                          *:PyenvList*
    List all available pyenv Python names.
    See also |pyenv#display_pyenv_names()|.

:PyenvName                                          *:PyenvName*
    Display the current pyenv Python name. The pyenv Python is not required
    to be activated in the Vim session.
    See also |pyenv#display_pyenv_name()|.

:PyenvVersion                                       *:PyenvVersion*
    Display the version number of the internal Python.
    See also |pyenv#display_py_version()|.

:PyenvExternalVersion                               *:PyenvExternalVersion*
    Display the version number of the external Python.
    See also |pyenv#display_external_py_version()|.

:PyenvPython                                        *:PyenvPython*
    Call an internal Python, which vim-pyenv uses.


-------------------------------------------------------------------------------
FUNCTIONS                                           *vim-pyenv-functions*

pyenv#pyenv_name()                      *pyenv#pyenv_name()*
    Return the current pyenv Python name. The pyenv Python is not require to
    be activated in the Vim session.
    If you need to know the activated pyenv name, see |pyenv#activated_name()|
    instead.
    See |pyenv#display_pyenv_name()| as well.

pyenv#activated_pyenv_name()            *pyenv#activated_pyenv_name()*
    Return the current activated pyenv Python name.

pyenv#pyenv_names({prefix})             *pyenv#pyenv_names()*
    Return the list of available pyenv Python names. The result list are
    filtered with {prefix}.
    See |pyenv#display_pyenv_names()| as well.

pyenv#py_version()                      *pyenv#py_version()*
    Return the version number of the internal Python.
    See |pyenv#display_py_version()| as well.

pyenv#external_py_version()             *pyenv#external_py_version()*
    Return the version number of the external Python.
    See |pyenv#display_external_py_version()| as well.

pyenv#display_pyenv_name()              *pyenv#display_pyenv_name()*
    Display the current pyenv Python name. The pyenv Python is not require to
    be activated in the Vim session.
    See |:PyenvName| as well.

pyenv#display_pyenv_names()             *pyenv#display_pyenv_names()*
    List all available pyenv Python names.
    See |:PyenvList| as well.

pyenv#display_py_version()              *pyenv#display_py_version()*
    Display the version number of the internal Python.
    See |:PyenvVersion| as well.

pyenv#display_external_py_version()     *pyenv#display_external_py_version()*
    Display the version number of the external Python.
    See |:PyenvExternalVersion| as well.

pyenv#activate({name}, {verbose})       *pyenv#activate()*
    Activate the {name} pyenv Python.
    If empty string is specified in {name}, the current pyenv Python is used.

pyenv#deactivate({verbose})             *pyenv#deactivate()*
    Deactivate the current pyenv Python.

pyenv#statusline#component()            *pyenv#statusline#component()*
    Return the current pyenv Python name and the version of the internal
    Python. It is used to indicate the current situation in the statusline or
    the lightline(https://github.com/itchyny/lightline.vim).

    The return value is formatted using the following rule:

    1.  If the name and the version is different,
        *g:pyenv#statusline#component#long_pattern* is used for formatting and
        the return value looks like "⌘ system(3.4.0)" by default.
    2.  If the name and the version is equal,
        *g:pyenv#statusline#component#short_pattern* is used to formatting and
        the return value looks like "⌘ 3.4.0" by default.
    3.  If the name is not provided,
        *g:pyenv#statusline#component#without_pattern* is used for formatting
        and the return value is empty by default.

    The special characters '%e' and '%v' in the pattern are substituted with
    the pyenv Python name and the version respectively.

    
-------------------------------------------------------------------------------
CONFIGURATION                                       *vim-pyenv-configuration*

g:pyenv#enable                          *g:pyenv#enable*
    If it is 0, vim-pyenv is disabled.

    Default to 1.

g:pyenv#auto_activate                   *g:pyenv#auto_activate*
    If it is 1, vim-pyenv automatically activates the current pyenv Python
    when vim-pyenv is loaded.

    Default to 1.

g:pyenv#force_py_version                *g:pyenv#force_py_version*
    Specify the Python version, which vim-pyenv uses internally.
    The Python major version numbers, 2 or 3, are accepted. 
    Vim needs to be compiled with +python (for 2) or +python3 (for 3).
    This value will be ignored when |g:pyenv#auto_force_py_version| is
    enabled.

    Default to 2.

g:pyenv#auto_force_py_version           *g:pyenv#auto_force_py_version*
    If it is 1, the internal Python version used would be automatically
    synchronized with the external Python version.
    It requires Vim to be compiled with both +python and +python3.

    This feature is quite useful when it is used with jedi-vim.
    See |g:pyenv#auto_force_py_version_jedi| as well.

    Default to 0.   (when -python or -python3)
            to 1.   (when +python and +python3)

g:pyenv#auto_force_py_version_jedi      *g:pyenv#auto_force_py_version_jedi*
    If it is 1 and jedi-vim is loaded, jedi#force_py_version is called with
    the vim-pyenv internal Python version when the version has changed.

    To enable bi-directional omni-completion, you should turn on this feature.
    See |g:pyenv#auto_force_py_version| as well.

    Default to 1.

g:pyenv#pyenv_root                      *g:pyenv#pyenv_root*
    The path of pyenv root directory.
    When 'auto' is specified, the absolute pyenv root path would be
    guessed.

    Default to 'auto'.

g:pyenv#pyenv_exec                      *g:pyenv#pyenv_exec*
    The path of pyenv executable.

    Default to 'auto'.

g:pyenv#python_exec                     *g:pyenv#python_exec*
    The path of Python executable.

    Default to 'auto'.

g:pyenv#squelch_py_warning              *g:pyenv#squelch_py_warning*
    Define this variable to suppress the
    'vim-pyenv requires vim compiled with...' warning.

    Not defined.

g:pyenv#activated_name                  *g:pyenv#activated_name*
    The current vim-pyenv activated pyenv Python name.
    This variable is not defined when no pyenv Python is activated.

    Not defined.


===============================================================================
USE WITH JEDI VIM                               *vim-pyenv-use-with-jedi-vim*

If your Vim is compiled with +python and +python3, vim-pyenv automatically
synchronize the internal Python version to the external Python version.
It allow you to use correct Python version via |:PyenvPython| command.

Additionally, user can change the Python version which jedi-vim internally
use with |jedi#force_py_version()| command and vim-pyenv automatically call
it in pyenv activation and deactivation.
It allow you to use corrcet omni-completion via jedi-vim.
To enable this feature, you need to set |g:pyenv#auto_force_py_version_jedi|
to 1 and the vim-pyenv must be loaded after the jedi-vim had loaded.

